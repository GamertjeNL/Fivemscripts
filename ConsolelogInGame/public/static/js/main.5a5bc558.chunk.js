(this["webpackJsonpfivem-ingame-console"]=this["webpackJsonpfivem-ingame-console"]||[]).push([[0],{34:function(e,t,n){e.exports=n(65)},39:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(25),c=n.n(r),s=n(69),l=(n(39),n(7)),i=n(9),u=n.n(i);n(56),n(57);var m=function(e){var t=e.resourceName,n=e.consoleBufferWithCommands,r=e.setConsoleBufferWithCommands,c=e.exit,s=Object(a.useState)(""),i=Object(l.a)(s,2),m=i[0],f=i[1],p="<span>"+n.replace(/\^([0-9])/g,(function(e){var t=Object(l.a)(e,2)[1];return'</span><span class="color-'.concat(t,'">')}))+"</span>";function d(e){return e.replace(/(^[^ ]+)/,"^6$1^7")}return Object(a.useEffect)((function(){var e=document.getElementsByClassName("console")[0];e.scrollTop=e.scrollHeight}),[n]),o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"TopBar"},"Console",o.a.createElement("span",{id:"cclose",role:"img","aria-label":"Close Button",onClick:c},"\u274c")),o.a.createElement("div",{className:"console",dangerouslySetInnerHTML:{__html:p}}),o.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),m==="restart "+t||m==="stop "+t)return r((function(e){return e+d(m)+"\n^1SCRIPT ERROR: @".concat(t," cannot restart/stop itself.^7\n")})),void f("");u.a.post("http://".concat(t,"/ExecuteConsoleCommand"),JSON.stringify(m));var n=d(m)+"\n";r((function(e){return e+n+"^0"})),f("")}},o.a.createElement("input",{className:"consoleInput",placeholder:"Enter command...",value:m,onChange:function(e){f(e.target.value)},autoFocus:!0})))},f=n(26),p=n(27);n(62);var d=function(e){var t=e.resourceName,n=e.errorMsg,r=e.setErrorMsg,c=e.exit,s=Object(a.useState)(""),i=Object(l.a)(s,2),m=i[0],d=i[1];return o.a.createElement("div",{className:"container"},o.a.createElement("span",{id:"close",role:"img","aria-label":"Close Button",onClick:c},"\u274c"),o.a.createElement("h1",null,"Ingame Console"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u.a.post("http://".concat(t,"/CheckPasssword"),JSON.stringify(m))}},o.a.createElement("input",{type:"password",placeholder:"Enter rcon password...",value:m,onChange:function(e){d(e.target.value),r("")},autoFocus:!0}),o.a.createElement("div",{style:{color:"red",display:"inline-block",fontWeight:"500",marginBottom:"20px"}},n),o.a.createElement("div",null,o.a.createElement("button",{type:"button",onClick:c},"Close"),o.a.createElement("button",{type:"submit"},"Login"))),o.a.createElement("p",{style:{marginTop:"45px",fontSize:"18px"}},"Made by ",o.a.createElement(f.a,{icon:p.a})," gegen#4674"))},h=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("console"),s=Object(l.a)(c,2),i=s[0],f=s[1],p=Object(a.useState)(""),h=Object(l.a)(p,2),g=h[0],v=h[1],b=Object(a.useState)(""),E=Object(l.a)(b,2),C=E[0],O=E[1],j=Object(a.useState)(!1),w=Object(l.a)(j,2),y=w[0],S=w[1],N=Object(a.useState)(""),k=Object(l.a)(N,2),B=k[0],I=k[1],x=Object(a.useCallback)((function(e){if(e.data){var t=e.data;if("ui"===t.type)!0===t.status?r(!0):r(!1);else if("ResourceName"===t.type)f(t.value||"console");else if("SetAuth"===t.type)S(t.auth||!1),!1===t.auth&&(v(""),O(""));else if("ErrorMsg"===t.type)I(t.error||"");else if("ConsoleBuffer"===t.type&&t.data){var n=JSON.parse(t.data);n!==C&&(v((function(e){return e+n.replace(C,"")})),O(n))}}}),[C]);Object(a.useEffect)((function(){y&&u.a.get("https://raw.githubusercontent.com/gegen/IngameConsole/master/version.json").then((function(e){var t=e.data.version;t>"1.2"&&setTimeout((function(){return v((function(e){return e+"\n^3----- ^1New Update:^3 -----------------------------------------\n\nFiveM Ingame Console has a new version.\nNewest version: ".concat(t,"\nInstalled version: ").concat("1.2","\nInstall at: ^0https://github.com/gegen/IngameConsole^3\n\n-----------------------------------------------------------^0\n\n")}))}),2e3)})).catch((function(e){console.error(e)}))}),[y]),Object(a.useEffect)((function(){return window.addEventListener("message",x),function(){return window.removeEventListener("message",x)}}),[x]),document.onkeyup=function(e){27===e.which&&M()};var M=function(){return u.a.post("http://".concat(i,"/exit"),JSON.stringify(""))};return n&&o.a.createElement(o.a.Fragment,null,y?o.a.createElement(m,{resourceName:i,consoleBufferWithCommands:g,setConsoleBufferWithCommands:v,exit:M}):o.a.createElement(d,{resourceName:i,errorMsg:B,setErrorMsg:I,exit:M}))},g=n(28),v=n(29),b=n(32),E=n(30),C=n(33),O=(n(63),function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={closed:!1,error:null,errorInfo:null},n}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this;return this.state.errorInfo?this.state.closed?null:o.a.createElement("div",{className:"Box"},o.a.createElement("h1",{style:{marginBottom:"10px"}},"FiveM Ingame Console crashed :("),o.a.createElement("details",{style:{textAlign:"left",whiteSpace:"pre-wrap",marginBottom:"30px"}},this.state.error&&this.state.error.toString(),o.a.createElement("br",null),this.state.errorInfo.componentStack),o.a.createElement("button",{className:"outlinebtn",onClick:function(){return e.setState({closed:!0})}},"Close Console"),o.a.createElement("button",{onClick:function(){return window.location.reload()}},"Restart Console")):this.props.children}}]),t}(o.a.Component));var j=function(){return o.a.createElement(O,null,o.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a({dsn:"https://2cef9cfaf8d0479290883d43c2c517fc@o376756.ingest.sentry.io/5241189"}),c.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.5a5bc558.chunk.js.map